{"version":3,"sources":["app.js"],"names":["container","document","getElementById","ajax","XMLHttpRequest","content","createElement","NEWS_URL","CONTENTS_URL","store","currentPage","getData","url","open","send","JSON","parse","response","newsFeed","newsList","template","push","i","id","title","comments_count","user","points","time_ago","replace","join","innerHTML","newsDetail","location","hash","substr","newsContent","console","log","comments","makeComment","called","commentString","length","router","routePath","indexOf","Number","window","addEventListener"],"mappings":"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","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["const container = document.getElementById('root');\nconst ajax = new XMLHttpRequest();\nconst content = document.createElement('div');\nconst NEWS_URL = 'https://api.hnpwa.com/v0/news/1.json';\nconst CONTENTS_URL = 'https://api.hnpwa.com/v0/item/@id.json';\n\nconst store = {\n    currentPage: 1\n};\n\nfunction getData (url) {\n    ajax.open('GET', url, false);\n    ajax.send();\n\n    return JSON.parse(ajax.response);\n}\n\n\n// Get data from hackernews site\nfunction newsFeed(){\n    const newsFeed = getData(NEWS_URL);\n    const newsList = [];\n    let template = `\n        <div class=\"bg-gray-600 min-h-screen\">\n            <div class=\"bg-white text-xl\">\n                <div class=\"mx-auto p-4\">\n                <div class=\"flex justify-between items-center py-6\">\n                    <div class=\"flex justify-start\">\n                        <h1 class=\"font-extrabold\">Hacker News</h1>\n                    </div>\n                    \n                    <div class=\"items-center justify-end\">\n                        <a href=\"#/page/{{__prev_page__}}\" class=\"text-gray-500\">Previous</a>\n                        <a href=\"#/page/{{__next_page__}}\" class=\"text-gray-500 ml-4\">Next</a>\n                    </div>\n                </div>\n                </div>\n                \n            </div>\n            <div class=\"p-4 text-2xl text-gray-700\">\n                    {{__news_feed__}}\n                </div>\n        </div>\n    `\n\n    newsList.push('<ul>');\n    for(let i= (store.currentPage - 1)*10; i<store.currentPage*10; i++){\n        newsList.push(`\n        <div class=\"p-6 bg-white mt-6 rounded-lg shadow-md transition-colors duration-500 hover:bg-green-100\">\n            <div class=\"flex\">\n                <div class=\"flex-auto\">\n                    <a href=\"#/show/${newsFeed[i].id}\">${newsFeed[i].title}</a>\n                </div>\n                <div class=\"text-center text-sm\">\n                    <div class=\"w-10 text-white bg-green-300 rounded-lg px-0 py-2\">\n                        ${newsFeed[i].comments_count}\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"flex mt-3\">\n                <div class=\"grid grid-cols-3 text-sm text-gray-500\">\n                    <div><i class=\"fas fa-user mr-1\"></i>${newsFeed[i].user}</div>\n                    <div><i class=\"fas fa-heart mr-1\"></i>${newsFeed[i].points}</div>\n                    <div><i class=\"fas fa-clock mr-1\"></i>${newsFeed[i].time_ago}</div>\n                </div>\n            </div>\n        </div>\n     \n        `);\n    }\n    \n    template = template.replace('{{__news_feed__}}', newsList.join(''));\n    template = template.replace('{{__prev_page__}}', store.currentPage > 1 ? store.currentPage-1 : 1);\n    template = template.replace('{{__next_page__}}', store.currentPage + 1);\n\n\n    container.innerHTML = template;\n}\n\n\nfunction newsDetail(){\n   \n    const id = location.hash.substr(7);\n    \n    const newsContent = getData(CONTENTS_URL.replace('@id', id));\n    \n\n    let template = `\n    <div class=\"bg-gray-600 min-h-screen pb-8\">\n        <div class=\"bg-white text-xl\">\n            <div class=\"mx-auto px-4\">\n                <div class=\"flex justify-between items-center py-6\">\n                    <div class=\"flex justify-start\">\n                        <h1 class=\"font-extrabold\">Hacker News</h1>\n                    </div>\n                    <div class=\"items-center justify-end\">\n                        <a href=\"#/page/${store.currentPage}\" class=\"text-gray-500\">\n                            <i class=\"fa fa-times\"></i>\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"h-full border rounded-xl bg-white m-6 p-4\">\n            <h2>${newsContent.title}</h2>\n            <div class=\"text-gray-400 h-20\">\n                ${newsContent.content}\n            </div>\n\n            {{__comments__}}\n        </div>\n    <div>\n    `\n\n    console.log(newsContent.comments)\n    function makeComment(comments, called = 0){\n        const commentString = [];\n\n        for (let i=0; i<comments.length; i++){\n            commentString.push(`\n                <div style=\"padding-left: ${called * 40}px;\" class=\"mt-4\">\n                    <div class=\"text-gray-400\">\n                        <i class=\"fa fa-sort-up mr-2\"></i>\n                        <strong>${comments[i].user}</strong> ${comments[i].time_ago}\n                    </div>\n                    <p class=\"text-gray-700\"${comments[i].content}</p>\n                </div>\n            `);\n\n            if (comments[i].comments.length > 0){\n                commentString.push(makeComment(comments[i].comments, called+1))\n            }\n        }\n\n        return commentString.join('');\n    }\n    \n    container.innerHTML=template.replace('{{__comments__}}', makeComment(newsContent.comments));\n\n}\n\nfunction router(){\n    const routePath = location.hash;\n    console.log(routePath);\n    if(routePath ===''){\n        newsFeed();\n    }else if(routePath.indexOf('#/page/') >= 0){\n        store.currentPage = Number(routePath.substr(7));\n        newsFeed();\n    }else {\n        newsDetail();\n    }\n}\n\nwindow.addEventListener('hashchange', router);\n\n\nrouter();\n// It's hard to proceed with DOM API.\n// If there is a tag in innerHTML string, system handles automatically.\n\n\n// Design\n// icon\n// Font"]}